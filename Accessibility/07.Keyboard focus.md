# 키보드 포커스

많은 사람들이 키보드—또는 스위치 장치와 같은 키보드 기능을 모방하는 소프트웨어나 하드웨어—를 주요 탐색 수단으로 사용합니다. 이는 개인적인 선호도, 효율성 또는 하드웨어 고장 등의 이유 때문일 수 있습니다.

손목 염좌 또는 수근관 증후군과 같은 미세한 운동 장애와 같은 일시적인 신체적 제한이 있는 사람들은 키보드를 사용하여 탐색할 수 있습니다. 저시력자나 시각장애인 사용자는 화면 확대 프로그램이나 스크린리더와 함께 키보드를 사용하여 탐색합니다. 다만 이들은 시력이 있는 사용자와는 다른 키보드 단축키를 사용하여 화면을 탐색할 수 있습니다.

장애가 없는 사람들 중에도 키보드로 탐색하는 것을 선호하는 경우가 있습니다.

이러한 모든 장애 상황과 환경을 고려한 키보드 지원은 매우 중요합니다. 키보드 접근성의 핵심은 포커스에 있습니다. 포커스란 현재 화면에서 키보드 입력을 받고 있는 요소를 의미합니다.

이 모듈에서는 키보드와 포커스 가능한 요소들에 대한 HTML 구조와 CSS 스타일링을 중점적으로 다룹니다. 대화형 요소의 포커스 관리와 키 입력에 대한 자세한 내용은 [JavaScript 모듈](https://web.dev/learn/accessibility/javascript?authuser=1)에서 확인할 수 있습니다.

<br>

## 포커스 순서

키보드 사용자가 탐색할 수 있는 요소를 포커스 가능 요소라고 합니다. [포커스 순서](https://www.w3.org/WAI/WCAG22/Understanding/focus-order), 또한 탭 또는 탐색 순서,는 요소가 포커스를 받는 순서를 의미합니다. 기본 포커스 순서는 논리적이고 직관적이어야 하며 페이지의 시각적 순서와 일치해야 합니다.

대부분의 언어에서 포커스 순서는 페이지 상단에서 시작하여 하단에서 끝나며 왼쪽에서 오른쪽으로 이동합니다. 그러나 일부 언어는 오른쪽에서 왼쪽으로 읽히므로 페이지의 주 언어에 따라 다른 포커스 순서가 필요할 수 있습니다.

기본적으로 포커스 순서에는 링크, 체크박스, 텍스트 입력과 같은 자연스럽게 포커스가 가능한 HTML 요소들이 포함됩니다. 이러한 자연스럽게 포커스 가능한 HTML 요소들은 기본적으로 탭 순서 지원과 기본 키보드 이벤트 처리 기능을 포함하고 있습니다.

비대화형 HTML 요소, 사용자 정의 컴포넌트 또는 [ARIA](https://web.dev/learn/accessibility/glossary?authuser=1#aria)가 있는 요소와 같이 일반적으로 포커스를 받지 않는 요소들도 포커스 순서에 포함되도록 업데이트할 수 있으며, 기본 포커스 의미를 재정의할 수도 있습니다.

> **Note**: `tab` 키는 키보드 포커스를 [DOM](https://developer.mozilla.org/docs/Glossary/DOM) 위로 이동합니다. `Shift+Tab` 은 포커스를 DOM 아래로 이동합니다.

<br>

### 탭 인덱스

포커스 순서는 양수 [tabindex](https://developer.mozilla.org/docs/Web/HTML/Global_attributes/tabindex) 속성을 가진 요소(있는 경우)부터 시작하여 가장 작은 양수에서 가장 큰 양수(예: 1, 2, 3)로 이동합니다. 그런 다음 DOM의 순서에 따라 tabindex가 0인 요소들로 진행됩니다. 음수 tabindex를 가진 모든 요소는 자연스러운 포커스 순서에서 제외됩니다.

일반적으로 포커스를 받을 수 없는 요소에 [tabindex](https://developer.mozilla.org/docs/Web/HTML/Global_attributes/tabindex)가 0(`tabindex="0"`)인 값을 적용하면, 해당 요소는 DOM에 나타나는 순서대로 페이지의 자연스러운 포커스 순서에 추가됩니다. 그러나 기본적으로 포커스가 가능한 HTML 요소들과 달리, 완전한 접근성을 위해서는 추가적인 [키보드 지원을 제공](https://developer.mozilla.org/docs/Web/HTML/Global_attributes/tabindex)해야 합니다.

마찬가지로, 일반적으로는 포커스가 가능하지만 비활성 상태인 요소가 있다면-입력 필드가 채워질 때까지 작동하지 않는 버튼-, 해당 요소에 음수 tabindex(`tabindex="-1"`)를 추가해야 합니다. 음수 tabindex를 추가하면 보조 기술과 키보드에 이 버튼이 자연스러운 포커스 순서에서 제외되어야 함을 알립니다. 하지만 걱정하지 마세요-필요할 때 JavaScript를 사용하여 요소에 포커스를 다시 추가할 수 있습니다.

이 예시에서는 자연스럽게 포커스를 받지 않는 요소들에 `tabindex` 속성을 추가했습니다. 포커스 순서에 미치는 영향력을 보여주기 위해 `tabindex`를 사용하여 요소들의 순서를 조작했습니다. 이것은 하지 말아야 할 예시입니다!

[CODEPEN으로 예시 보기](https://codepen.io/web-dot-dev/pen/QWxWwNM)

> **Caution**: 일반적으로 양수 tabindex는 피해야 합니다. 비대화형 요소에 포커스를 부여하고 일반적인 포커스 순서를 방해하면 사용자들에게 혼란과 좌절감을 줄 수 있습니다. 포커스를 받을 수 없는 요소에 **tabindex=1**과 같은 양수 tabindex를 추가해야 하는 경우는 거의 없습니다.

<br>

### 건너뛰기 링크

오늘날 대부분의 웹사이트에는 페이지마다 일관된 긴 메뉴 링크 목록이 페이지의 주요 헤더에 있습니다. 이는 일반적인 탐색에는 좋지만, 키보드만 사용하는 사용자가 여러 번 탭을 눌러야 웹사이트의 주요 콘텐츠에 도달할 수 있어 불편할 수 있습니다.

중복되거나 불필요한 링크 그룹을 건너뛰는 한 가지 방법은 [건너뛰기 링크](https://webaim.org/techniques/skipnav/)를 추가하는 것입니다. 건너뛰기 링크는 웹사이트의 다른 페이지나 외부 리소스로 이동하는 대신, 해당 섹션의 ID를 사용하여 같은 페이지의 다른 섹션으로 이동하는 앵커 링크입니다. 건너뛰기 링크는 일반적으로 사용자가 웹사이트에 처음 접근할 때 만나는 첫 번째 포커스 가능한 요소로 추가되며, 디자인 요구사항에 따라 사용자가 탭으로 이동할 때까지 보이거나 시각적으로 숨겨질 수 있습니다.

사용자가 탭 키를 누르고 활성화된 건너뛰기 링크가 있으면 키보드 포커스가 건너뛰기 링크로 이동합니다. 사용자는 이 건너뛰기 링크를 클릭하여 헤더 섹션과 메인 네비게이션을 건너뛸 수 있습니다. 만약 건너뛰기 링크를 클릭하지 않고 계속해서 탭을 누르면 DOM을 따라 다음 포커스 가능한 요소로 이동합니다.

모든 링크와 마찬가지로 건너뛰기 링크도 그 목적에 대한 문맥을 포함하는 것이 중요합니다. "주요 콘텐츠로 건너뛰기"와 같은 문구를 추가하면 사용자에게 링크가 어디로 이동하는지 알려줄 수 있습니다. 예시에서 보여주듯이 [aria-labelledby](https://www.w3.org/WAI/WCAG22/Techniques/aria/ARIA7), [aria-label](https://www.w3.org/WAI/WCAG22/Techniques/aria/ARIA8) 사용하거나 `<a>` 요소의 텍스트 콘텐츠에 추가하는 등 링크에 추가 문맥을 제공하는 다양한 코드 옵션이 있습니다.

[CODEPEN으로 예시 보기](https://codepen.io/web-dot-dev/pen/LYrYEGo)

<br>

## 포커스 표시자

방금 배웠듯이 포커스 순서는 키보드 접근성의 중요한 측면입니다. 또한 포커스가 어떻게 스타일링되는지 결정하는 것도 중요합니다. 포커스 순서가 아무리 훌륭하더라도 적절한 스타일링 없이는 사용자가 페이지의 어느 위치에 있는지 어떻게 알 수 있을까요?

시각적인 포커스 표시기는 사용자가 페이지에서 현재 위치를 항상 알 수 있도록 하는 데 매우 중요합니다. 이는 특히 시력이 있는 키보드 전용 사용자에게 더욱 중요합니다. [포커스 가림 방지(최소)](https://www.w3.org/WAI/WCAG22/Understanding/focus-not-obscured-minimum) 기준은 포커스 표시기가 다른 컴포넌트 아래에 가려지지 않도록 보장합니다.

<br>

### 브라우저 기본 스타일링

오늘날의 모든 현대 웹 브라우저는 웹사이트나 앱의 포커스 가능한 요소에 적용되는 서로 다른 기본 시각적 스타일을 가지고 있으며, 일부는 다른 것보다 더 잘 보입니다. 사용자가 페이지를 탭으로 이동할 때, 요소가 키보드 포커스를 받으면 이 스타일이 적용됩니다.

브라우저가 포커스 스타일링을 처리하도록 하는 경우, 테마가 브라우저의 기본 스타일링을 덮어쓰지 않는지 확인하기 위해 코드를 검토하는 것이 중요합니다. 이러한 덮어쓰기는 스타일 시트에서 주로 `"outline: 0"` 또는 `"outline: none"`으로 작성됩니다. 이 작은 코드가 브라우저의 기본 포커스 표시기 스타일링을 제거하여, 사용자가 웹사이트나 앱을 탐색하는 것을 매우 어렵게 만들 수 있습니다.

👎 **권장하지 않음 — 아웃라인 없음**

```css
a:focus {
  outline: none; /* 이렇게 하지 마세요! */
}
```

👍 **권장함 — 스타일이 적용된 아웃라인**

```css
a:focus {
  outline: auto 5px Highlight; /* webkit이 아닌 브라우저용 */
  outline: auto 5px -webkit-focus-ring-color; /* webkit 브라우저용 */
}
```

<br>

### 커스텀 스타일

물론 브라우저 기본 스타일을 넘어서서 테마를 보완하는 사용자 정의 포커스 표시기를 만들 수 있습니다. 사용자 정의 포커스 표시기를 만들 때는 창의력을 마음껏 발휘할 수 있습니다!

포커스 표시기의 모양은 외곽선, 테두리, 밑줄, 박스, 배경 변경 또는 키보드 포커스가 해당 요소에 있음을 나타내기 위해 색상에만 의존하지 않는 다른 명확한 스타일 변경 등 다양한 형태를 가질 수 있습니다.

포커스 표시기를 잘 보이도록 스타일을 변경할 수 있습니다. 예를 들어, 페이지 배경이 흰색일 때는 버튼의 포커스 표시기를 파란색 배경으로 설정하고, 페이지 배경이 파란색일 때는 같은 버튼의 포커스 스타일을 흰색 배경으로 설정할 수 있습니다.

요소 유형에 따라 포커스 요소의 스타일을 다르게 적용할 수 있습니다. 예를 들어, 본문 링크에는 점선 밑줄을 사용하고 버튼 요소에는 둥근 테두리를 적용할 수 있습니다.

> **Note**: 포커스 표시기의 스타일에 따라 배경과의 [최소 색상 대비](https://www.w3.org/WAI/WCAG22/Techniques/general/G195) 요구사항을 충족해야 할 수 있습니다. WCAG 2.2의 포커스 표시(최소) 기준을 충족하려면 모든 포커스 표시기에 대해 3:1의 색상 대비율을 준수하세요.

[CODEPEN으로 예시 보기](https://codepen.io/web-dot-dev/pen/PoaowNz)

한 페이지에 포커스 표시기 스타일을 몇 개나 사용해야 하는지에 대한 규칙은 없습니다—하지만 불필요한 혼란을 피하기 위해 적절한 수준으로 유지하도록 하세요.
